<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent-OS UI Components Demo</title>
    <link rel="stylesheet" href="modern-dashboard/design-system.css">
    <style>
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .demo-section {
            margin-bottom: 40px;
            padding: 24px;
            background: var(--color-surface-elevated);
            border-radius: 12px;
            border: 1px solid var(--color-border-medium);
        }
        
        .demo-section h2 {
            margin-top: 0;
            margin-bottom: 16px;
            color: var(--color-text-primary);
            font-size: 24px;
            font-weight: 600;
        }
        
        .demo-section p {
            color: var(--color-text-secondary);
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .demo-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .demo-button {
            padding: 10px 16px;
            border: 1px solid var(--color-border-medium);
            border-radius: 6px;
            background: var(--color-surface);
            color: var(--color-text-primary);
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .demo-button:hover {
            background: var(--color-surface-hover);
            border-color: var(--color-primary-500);
        }
        
        .demo-button.primary {
            background: var(--color-primary-500);
            color: white;
            border-color: var(--color-primary-500);
        }
        
        .demo-button.primary:hover {
            background: var(--color-primary-600);
        }
        
        .demo-button.success {
            background: var(--color-success-500);
            color: white;
            border-color: var(--color-success-500);
        }
        
        .demo-button.success:hover {
            background: var(--color-success-600);
        }
        
        .demo-button.warning {
            background: var(--color-warning-500);
            color: white;
            border-color: var(--color-warning-500);
        }
        
        .demo-button.warning:hover {
            background: var(--color-warning-600);
        }
        
        .demo-button.error {
            background: var(--color-error-500);
            color: white;
            border-color: var(--color-error-500);
        }
        
        .demo-button.error:hover {
            background: var(--color-error-600);
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .demo-card {
            padding: 20px;
            background: var(--color-surface);
            border-radius: 8px;
            border: 1px solid var(--color-border-light);
        }
        
        .demo-card h3 {
            margin-top: 0;
            margin-bottom: 12px;
            color: var(--color-text-primary);
            font-size: 18px;
            font-weight: 600;
        }
        
        .demo-card p {
            color: var(--color-text-secondary);
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 16px;
        }
        
        .demo-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .demo-status.success {
            background: var(--color-success-50);
            color: var(--color-success-700);
        }
        
        .demo-status.warning {
            background: var(--color-warning-50);
            color: var(--color-warning-700);
        }
        
        .demo-status.error {
            background: var(--color-error-50);
            color: var(--color-error-700);
        }
        
        .demo-code {
            background: var(--color-secondary-800);
            color: var(--color-secondary-200);
            padding: 16px;
            border-radius: 6px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin-top: 16px;
        }
        
        .demo-table-container {
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .demo-container {
                padding: 16px;
            }
            
            .demo-section {
                padding: 16px;
            }
            
            .demo-buttons {
                flex-direction: column;
            }
            
            .demo-button {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <header class="demo-section">
            <h1>🚀 Agent-OS UI Components Demo</h1>
            <p>Comprehensive showcase of all Agent-OS UI components including notifications, modals, data tables, and theme management.</p>
            <div class="demo-buttons">
                <button class="demo-button" onclick="uiManager.toggleTheme()">Toggle Theme</button>
                <button class="demo-button primary" onclick="uiManager.showNotification('success', 'Demo', 'This is a demo notification')">Show Notification</button>
                <button class="demo-button" onclick="uiManager.showModal({type: 'info', title: 'Demo Modal', message: 'This is a demo modal'})">Show Modal</button>
                <button class="demo-button" onclick="showSystemStats()">System Stats</button>
            </div>
        </header>

        <!-- Theme Management Section -->
        <section class="demo-section">
            <h2>🎨 Theme Management</h2>
            <p>Dynamic theme switching with system preference detection and persistent storage.</p>
            <div class="demo-buttons">
                <button class="demo-button" onclick="uiManager.components.themeManager.setTheme('light')">Light Theme</button>
                <button class="demo-button" onclick="uiManager.components.themeManager.setTheme('dark')">Dark Theme</button>
                <button class="demo-button" onclick="uiManager.components.themeManager.setTheme('system')">System Theme</button>
                <button class="demo-button primary" onclick="uiManager.toggleTheme()">Toggle Theme</button>
            </div>
            <div class="demo-card">
                <h3>Current Theme Info</h3>
                <p><strong>Current:</strong> <span id="current-theme">Loading...</span></p>
                <p><strong>System:</strong> <span id="system-theme">Loading...</span></p>
                <p><strong>Effective:</strong> <span id="effective-theme">Loading...</span></p>
            </div>
        </section>

        <!-- Notification System Section -->
        <section class="demo-section">
            <h2>🔔 Notification System</h2>
            <p>Toast notifications with different types, durations, and interactive features.</p>
            <div class="demo-buttons">
                <button class="demo-button success" onclick="showSuccessNotification()">Success</button>
                <button class="demo-button warning" onclick="showWarningNotification()">Warning</button>
                <button class="demo-button error" onclick="showErrorNotification()">Error</button>
                <button class="demo-button" onclick="showInfoNotification()">Info</button>
                <button class="demo-button" onclick="showSystemNotification()">System</button>
                <button class="demo-button primary" onclick="showNotificationWithActions()">With Actions</button>
                <button class="demo-button" onclick="uiManager.components.notifications.clearAll()">Clear All</button>
            </div>
            <div class="demo-card">
                <h3>Notification Features</h3>
                <ul>
                    <li>5 different notification types</li>
                    <li>Auto-dismiss with progress bar</li>
                    <li>Interactive actions</li>
                    <li>Persistent notifications</li>
                    <li>Maximum 5 notifications at once</li>
                    <li>Smooth animations</li>
                </ul>
            </div>
        </section>

        <!-- Modal System Section -->
        <section class="demo-section">
            <h2>📋 Modal System</h2>
            <p>Modal dialogs with different types, forms, and interactive features.</p>
            <div class="demo-buttons">
                <button class="demo-button" onclick="showAlertModal()">Alert</button>
                <button class="demo-button" onclick="showConfirmModal()">Confirm</button>
                <button class="demo-button warning" onclick="showWarningModal()">Warning</button>
                <button class="demo-button error" onclick="showErrorModal()">Error</button>
                <button class="demo-button success" onclick="showSuccessModal()">Success</button>
                <button class="demo-button primary" onclick="showFormModal()">Form Modal</button>
                <button class="demo-button" onclick="showCustomModal()">Custom Modal</button>
            </div>
            <div class="demo-card">
                <h3>Modal Features</h3>
                <ul>
                    <li>7 different modal types</li>
                    <li>Form support with validation</li>
                    <li>Keyboard navigation (Escape to close)</li>
                    <li>Backdrop click to close</li>
                    <li>Focus trapping</li>
                    <li>Responsive design</li>
                    <li>Custom content support</li>
                </ul>
            </div>
        </section>

        <!-- Data Table Section -->
        <section class="demo-section">
            <h2>📊 Data Table Component</h2>
            <p>Interactive data tables with sorting, filtering, pagination, and selection.</p>
            <div class="demo-buttons">
                <button class="demo-button primary" onclick="createSampleTable()">Create Sample Table</button>
                <button class="demo-button" onclick="loadTableData()">Load Data</button>
                <button class="demo-button" onclick="clearTableData()">Clear Data</button>
                <button class="demo-button" onclick="getSelectedRows()">Get Selected</button>
            </div>
            <div class="demo-table-container" id="demo-table-container">
                <div class="demo-card">
                    <h3>Data Table Features</h3>
                    <ul>
                        <li>Sortable columns</li>
                        <li>Search functionality</li>
                        <li>Column filtering</li>
                        <li>Row selection</li>
                        <li>Pagination</li>
                        <li>Responsive design</li>
                        <li>Loading states</li>
                        <li>Custom cell rendering</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- UI Manager Section -->
        <section class="demo-section">
            <h2>⚙️ UI Manager</h2>
            <p>Centralized management of all UI components with global configuration.</p>
            <div class="demo-buttons">
                <button class="demo-button" onclick="uiManager.openGlobalSearch()">Global Search (Ctrl+K)</button>
                <button class="demo-button" onclick="uiManager.openQuickActionsModal()">Quick Actions (Ctrl+M)</button>
                <button class="demo-button" onclick="uiManager.toggleTheme()">Toggle Theme (Ctrl+T)</button>
                <button class="demo-button primary" onclick="showSystemInfo()">System Info</button>
            </div>
            <div class="demo-grid">
                <div class="demo-card">
                    <h3>Keyboard Shortcuts</h3>
                    <p><strong>Ctrl+K:</strong> Open global search</p>
                    <p><strong>Ctrl+T:</strong> Toggle theme</p>
                    <p><strong>Ctrl+M:</strong> Quick actions</p>
                    <p><strong>Escape:</strong> Close modals/notifications</p>
                </div>
                <div class="demo-card">
                    <h3>Accessibility</h3>
                    <p><strong>ARIA Labels:</strong> <span class="demo-status success">Enabled</span></p>
                    <p><strong>Focus Management:</strong> <span class="demo-status success">Active</span></p>
                    <p><strong>Screen Reader:</strong> <span class="demo-status success">Supported</span></p>
                    <p><strong>Keyboard Navigation:</strong> <span class="demo-status success">Full</span></p>
                </div>
            </div>
        </section>

        <!-- Code Examples Section -->
        <section class="demo-section">
            <h2>💻 Code Examples</h2>
            <p>Example code for using the UI components in your applications.</p>
            <div class="demo-grid">
                <div class="demo-card">
                    <h3>Notification Example</h3>
                    <div class="demo-code">
// Show a success notification
uiManager.showNotification('success', 'Success', 'Operation completed successfully');

// Show notification with actions
uiManager.components.notifications.show({
  type: 'warning',
  title: 'Confirm Action',
  message: 'Are you sure you want to proceed?',
  actions: [
    { label: 'Yes', callback: () => console.log('Confirmed') },
    { label: 'No', callback: () => console.log('Cancelled') }
  ]
});
                    </div>
                </div>
                <div class="demo-card">
                    <h3>Modal Example</h3>
                    <div class="demo-code">
// Show a confirmation modal
uiManager.showModal({
  type: 'confirm',
  title: 'Delete Item',
  message: 'Are you sure you want to delete this item?',
  onConfirm: () => console.log('Confirmed'),
  onCancel: () => console.log('Cancelled')
});

// Show form modal
uiManager.components.modals.form('User Details', {
  fields: [
    { name: 'name', label: 'Name', type: 'text', required: true },
    { name: 'email', label: 'Email', type: 'email', required: true }
  ]
});
                    </div>
                </div>
                <div class="demo-card">
                    <h3>Data Table Example</h3>
                    <div class="demo-code">
// Create a data table
const table = uiManager.createDataTable('table-container', {
  columns: [
    { key: 'id', title: 'ID', sortable: true },
    { key: 'name', title: 'Name', sortable: true },
    { key: 'status', title: 'Status', sortable: true }
  ],
  data: [
    { id: 1, name: 'Item 1', status: 'Active' },
    { id: 2, name: 'Item 2', status: 'Inactive' }
  ],
  selectable: true,
  searchable: true,
  filterable: true
});
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Load UI Components -->
    <script src="modern-dashboard/theme-manager.js"></script>
    <script src="modern-dashboard/js/components/NotificationSystem.js"></script>
    <script src="modern-dashboard/js/components/ModalSystem.js"></script>
    <script src="modern-dashboard/js/components/DataTable.js"></script>
    <script src="modern-dashboard/js/components/UIManager.js"></script>

    <script>
        // Initialize UI Manager
        let uiManager;
        
        // Sample data for tables
        const sampleData = [
            { id: 1, name: 'Component A', status: 'Active', date: '2024-01-15', priority: 'High' },
            { id: 2, name: 'Component B', status: 'Inactive', date: '2024-01-16', priority: 'Medium' },
            { id: 3, name: 'Component C', status: 'Active', date: '2024-01-17', priority: 'Low' },
            { id: 4, name: 'Component D', status: 'Pending', date: '2024-01-18', priority: 'High' },
            { id: 5, name: 'Component E', status: 'Active', date: '2024-01-19', priority: 'Medium' },
            { id: 6, name: 'Component F', status: 'Inactive', date: '2024-01-20', priority: 'Low' }
        ];

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                uiManager = new AgentOSUIManager();
                await uiManager.init();
                
                // Update theme info
                updateThemeInfo();
                
                // Set up theme change listener
                document.addEventListener('theme:change', updateThemeInfo);
                
                console.log('✅ Demo page initialized successfully');
            } catch (error) {
                console.error('❌ Failed to initialize demo page:', error);
            }
        });

        // Update theme information
        function updateThemeInfo() {
            if (!uiManager || !uiManager.components.themeManager) return;
            
            const themeInfo = uiManager.components.themeManager.getThemeInfo();
            document.getElementById('current-theme').textContent = themeInfo.current;
            document.getElementById('system-theme').textContent = themeInfo.system;
            document.getElementById('effective-theme').textContent = themeInfo.effective;
        }

        // Notification functions
        function showSuccessNotification() {
            uiManager.showNotification('success', 'Success!', 'Operation completed successfully');
        }

        function showWarningNotification() {
            uiManager.showNotification('warning', 'Warning!', 'Please review your input before proceeding');
        }

        function showErrorNotification() {
            uiManager.showNotification('error', 'Error!', 'Something went wrong. Please try again.');
        }

        function showInfoNotification() {
            uiManager.showNotification('info', 'Info', 'Here is some useful information for you');
        }

        function showSystemNotification() {
            uiManager.showNotification('system', 'System Update', 'System components have been updated');
        }

        function showNotificationWithActions() {
            uiManager.components.notifications.show({
                type: 'warning',
                title: 'Confirm Action',
                message: 'Are you sure you want to delete this item?',
                actions: [
                    { label: 'Delete', callback: () => uiManager.showNotification('success', 'Deleted', 'Item has been deleted') },
                    { label: 'Cancel', callback: () => uiManager.showNotification('info', 'Cancelled', 'Action was cancelled') }
                ]
            });
        }

        // Modal functions
        function showAlertModal() {
            uiManager.components.modals.alert('Information', 'This is an informational alert modal.');
        }

        function showConfirmModal() {
            uiManager.components.modals.confirm('Confirm Action', 'Are you sure you want to proceed with this action?')
                .then(result => {
                    if (result.action === 'confirm') {
                        uiManager.showNotification('success', 'Confirmed', 'Action was confirmed');
                    } else {
                        uiManager.showNotification('info', 'Cancelled', 'Action was cancelled');
                    }
                });
        }

        function showWarningModal() {
            uiManager.components.modals.warning('Warning', 'This action cannot be undone. Please proceed with caution.');
        }

        function showErrorModal() {
            uiManager.components.modals.error('Error', 'An error occurred while processing your request.');
        }

        function showSuccessModal() {
            uiManager.components.modals.success('Success', 'Your action was completed successfully!');
        }

        function showFormModal() {
            uiManager.components.modals.form('User Registration', {
                fields: [
                    { name: 'firstName', label: 'First Name', type: 'text', required: true },
                    { name: 'lastName', label: 'Last Name', type: 'text', required: true },
                    { name: 'email', label: 'Email', type: 'email', required: true },
                    { name: 'role', label: 'Role', type: 'select', required: true, options: [
                        { value: 'admin', label: 'Administrator' },
                        { value: 'user', label: 'User' },
                        { value: 'guest', label: 'Guest' }
                    ]},
                    { name: 'notes', label: 'Notes', type: 'textarea' }
                ]
            });
        }

        function showCustomModal() {
            const content = document.createElement('div');
            content.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <h3 style="color: var(--color-primary-500);">Custom Content</h3>
                    <p>This modal contains custom HTML content with styling.</p>
                    <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                        <button onclick="uiManager.showNotification('success', 'Custom', 'Custom action performed')" 
                                style="padding: 8px 16px; background: var(--color-primary-500); color: white; border: none; border-radius: 4px; cursor: pointer;">
                            Custom Action
                        </button>
                    </div>
                </div>
            `;

            uiManager.components.modals.show({
                type: 'custom',
                title: 'Custom Modal',
                content: content,
                width: '500px'
            });
        }

        // Data table functions
        function createSampleTable() {
            const container = document.getElementById('demo-table-container');
            container.innerHTML = '<div id="sample-table"></div>';
            
            const table = uiManager.createDataTable('sample-table', {
                columns: [
                    { key: 'id', title: 'ID', sortable: true },
                    { key: 'name', title: 'Name', sortable: true },
                    { key: 'status', title: 'Status', sortable: true, render: (value) => {
                        const color = value === 'Active' ? 'var(--color-success-500)' : 
                                    value === 'Inactive' ? 'var(--color-error-500)' : 'var(--color-warning-500)';
                        return `<span style="color: ${color}; font-weight: 500;">${value}</span>`;
                    }},
                    { key: 'date', title: 'Date', sortable: true },
                    { key: 'priority', title: 'Priority', sortable: true, render: (value) => {
                        const colors = {
                            'High': 'var(--color-error-500)',
                            'Medium': 'var(--color-warning-500)',
                            'Low': 'var(--color-success-500)'
                        };
                        return `<span style="color: ${colors[value]}; font-weight: 500;">${value}</span>`;
                    }}
                ],
                data: sampleData,
                title: 'Sample Data Table',
                selectable: true,
                searchable: true,
                filterable: true,
                pageSize: 5
            });
        }

        function loadTableData() {
            const table = uiManager.components.dataTables.get('sample-table');
            if (table) {
                table.setLoading(true);
                setTimeout(() => {
                    table.setData([...sampleData, ...sampleData]); // Double the data
                    table.setLoading(false);
                }, 1000);
            }
        }

        function clearTableData() {
            const table = uiManager.components.dataTables.get('sample-table');
            if (table) {
                table.setData([]);
            }
        }

        function getSelectedRows() {
            const table = uiManager.components.dataTables.get('sample-table');
            if (table) {
                const selected = table.getSelectedRows();
                uiManager.showNotification('info', 'Selected Rows', `Selected ${selected.length} rows`);
            }
        }

        // System functions
        function showSystemStats() {
            const stats = uiManager.getStats();
            const content = document.createElement('div');
            content.innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div>
                        <h4>Component Status</h4>
                        <p><strong>UI Manager:</strong> ${stats.initialized ? '✅ Active' : '❌ Inactive'}</p>
                        <p><strong>Theme Manager:</strong> ${stats.themeManager}</p>
                        <p><strong>Notifications:</strong> ${stats.notifications ? '✅ Active' : '❌ Inactive'}</p>
                        <p><strong>Modals:</strong> ${stats.modals ? '✅ Active' : '❌ Inactive'}</p>
                        <p><strong>Data Tables:</strong> ${stats.dataTables}</p>
                    </div>
                    <div>
                        <h4>Global Config</h4>
                        <p><strong>Theme:</strong> ${stats.globalConfig.theme}</p>
                        <p><strong>Animations:</strong> ${stats.globalConfig.animations ? '✅ Enabled' : '❌ Disabled'}</p>
                        <p><strong>Accessibility:</strong> ${stats.globalConfig.accessibility ? '✅ Enabled' : '❌ Disabled'}</p>
                        <p><strong>Responsive:</strong> ${stats.globalConfig.responsive ? '✅ Enabled' : '❌ Disabled'}</p>
                    </div>
                </div>
            `;

            uiManager.components.modals.show({
                type: 'info',
                title: 'System Statistics',
                content: content,
                width: '600px'
            });
        }

        function showSystemInfo() {
            uiManager.showSystemInfo();
        }
    </script>
</body>
</html>
