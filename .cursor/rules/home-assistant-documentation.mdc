# Home Assistant Documentation Rules

## MANDATORY: Home Assistant Documentation Reference

**ALWAYS** reference Home Assistant documentation when implementing any Home Assistant integration features. This rule ensures we follow official patterns and best practices.

### Primary Documentation Sources

#### Core Development Documentation
- **Development Index:** https://developers.home-assistant.io/docs/development_index
- **Architecture:** https://developers.home-assistant.io/docs/architecture
- **Development Workflow:** https://developers.home-assistant.io/docs/development_workflow
- **Building Integrations:** https://developers.home-assistant.io/docs/building_integrations
- **Development Checklist:** https://developers.home-assistant.io/docs/development_checklist
- **Integration Quality Scale:** https://developers.home-assistant.io/docs/integration_quality_scale

#### Core Concepts
- **The `hass` object:** https://developers.home-assistant.io/docs/hass
- **Entities:** https://developers.home-assistant.io/docs/entities
- **Areas, Devices and Entities:** https://developers.home-assistant.io/docs/areas_devices_entities
- **Authentication:** https://developers.home-assistant.io/docs/authentication
- **Config entries:** https://developers.home-assistant.io/docs/config_entries
- **Data entry flow:** https://developers.home-assistant.io/docs/data_entry_flow

#### Advanced Features
- **Device Automations:** https://developers.home-assistant.io/docs/device_automations
- **Intents:** https://developers.home-assistant.io/docs/intents
- **Conversation:** https://developers.home-assistant.io/docs/conversation
- **LLM API:** https://developers.home-assistant.io/docs/llm_api
- **Native App Integration:** https://developers.home-assistant.io/docs/native_app_integration

#### External APIs
- **WebSocket API:** https://developers.home-assistant.io/docs/api/websocket/
- **REST API:** https://developers.home-assistant.io/docs/api/rest/
- **External APIs Index:** https://developers.home-assistant.io/docs/api/

#### Development Tools
- **Brands:** https://developers.home-assistant.io/docs/brands
- **Application credentials:** https://developers.home-assistant.io/docs/application_credentials
- **Backup:** https://developers.home-assistant.io/docs/backup
- **Raising exceptions:** https://developers.home-assistant.io/docs/raising_exceptions
- **Repairs:** https://developers.home-assistant.io/docs/repairs
- **Reproduce state:** https://developers.home-assistant.io/docs/reproduce_state
- **Significant change:** https://developers.home-assistant.io/docs/significant_change

### Implementation Standards

#### Architecture Compliance
- **ALWAYS** follow Home Assistant's layered architecture patterns
- **ALWAYS** use the `hass` object correctly for state management
- **ALWAYS** implement proper entity lifecycle management
- **ALWAYS** follow the config entry flow for user configuration
- **ALWAYS** implement proper data entry flow for user input

#### Integration Quality
- **ALWAYS** target Integration Quality Scale level 3 or higher
- **ALWAYS** implement proper error handling and user feedback
- **ALWAYS** follow the development checklist for new integrations
- **ALWAYS** implement proper testing and validation
- **ALWAYS** provide comprehensive documentation

#### API Integration Standards
- **ALWAYS** use official WebSocket API patterns from documentation
- **ALWAYS** implement proper REST API authentication and rate limiting
- **ALWAYS** follow Home Assistant's event system patterns
- **ALWAYS** implement proper state management and persistence
- **ALWAYS** use official data structures and schemas

#### Security and Best Practices
- **ALWAYS** follow Home Assistant's authentication patterns
- **ALWAYS** implement proper credential management
- **ALWAYS** use secure communication protocols
- **ALWAYS** implement proper error handling and logging
- **ALWAYS** follow Home Assistant's security guidelines

### Documentation Requirements

#### Code Documentation
- **ALWAYS** cite specific Home Assistant documentation URLs in comments
- **ALWAYS** reference official API endpoints and patterns
- **ALWAYS** document any deviations from official patterns
- **ALWAYS** include Home Assistant version compatibility notes
- **ALWAYS** reference specific Home Assistant concepts and patterns

#### Architecture Documentation
- **ALWAYS** reference Home Assistant architecture patterns
- **ALWAYS** document integration with Home Assistant's core systems
- **ALWAYS** explain how the integration follows Home Assistant patterns
- **ALWAYS** reference official Home Assistant development guidelines

#### Testing Requirements
- **ALWAYS** test against actual Home Assistant instances
- **ALWAYS** validate against Home Assistant's testing patterns
- **ALWAYS** implement proper integration testing
- **ALWAYS** follow Home Assistant's testing best practices
- **ALWAYS** validate against official Home Assistant APIs

### Development Workflow

#### Planning Phase
- **ALWAYS** review relevant Home Assistant documentation before planning
- **ALWAYS** check if similar integrations exist in Home Assistant
- **ALWAYS** reference Home Assistant's integration patterns
- **ALWAYS** consider Home Assistant's quality standards

#### Implementation Phase
- **ALWAYS** follow Home Assistant's development workflow
- **ALWAYS** implement proper error handling patterns
- **ALWAYS** use Home Assistant's official APIs and patterns
- **ALWAYS** implement proper logging and debugging
- **ALWAYS** follow Home Assistant's code style and conventions

#### Testing Phase
- **ALWAYS** test against Home Assistant's testing framework
- **ALWAYS** validate against Home Assistant's quality standards
- **ALWAYS** implement proper integration testing
- **ALWAYS** test against actual Home Assistant instances
- **ALWAYS** validate against Home Assistant's APIs

### Error Handling and Debugging

#### Error Patterns
- **ALWAYS** handle Home Assistant specific error codes
- **ALWAYS** implement proper exception handling
- **ALWAYS** provide meaningful error messages
- **ALWAYS** log errors with proper context
- **ALWAYS** implement graceful degradation

#### Debugging Guidelines
- **ALWAYS** use Home Assistant's debugging tools
- **ALWAYS** implement proper logging patterns
- **ALWAYS** provide debugging information
- **ALWAYS** follow Home Assistant's troubleshooting patterns
- **ALWAYS** document debugging procedures

### Reference Links

#### Core Documentation
- Home Assistant Developers: https://developers.home-assistant.io/
- Development Index: https://developers.home-assistant.io/docs/development_index
- Architecture: https://developers.home-assistant.io/docs/architecture
- Building Integrations: https://developers.home-assistant.io/docs/building_integrations

#### API Documentation
- WebSocket API: https://developers.home-assistant.io/docs/api/websocket/
- REST API: https://developers.home-assistant.io/docs/api/rest/
- External APIs: https://developers.home-assistant.io/docs/api/

#### Development Tools
- Development Workflow: https://developers.home-assistant.io/docs/development_workflow
- Development Checklist: https://developers.home-assistant.io/docs/development_checklist
- Integration Quality Scale: https://developers.home-assistant.io/docs/integration_quality_scale

#### Core Concepts
- Entities: https://developers.home-assistant.io/docs/entities
- Areas, Devices and Entities: https://developers.home-assistant.io/docs/areas_devices_entities
- Authentication: https://developers.home-assistant.io/docs/authentication
- Config entries: https://developers.home-assistant.io/docs/config_entries
description:
globs:
alwaysApply: false
---
